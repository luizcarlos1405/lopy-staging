import{E as t,F as e,G as n,aj as s,L as a,M as r,O as l,Q as o,R as i,U as c,W as u,a8 as f,H as h,J as d,K as $,N as m,P as p,al as g,a4 as v,V as x,an as k,$ as w,ah as y,ay as b,a5 as E,a0 as I,a7 as S,az as T,aA as N,aB as D,ai as B,aC as z,a9 as M,a6 as P,aD as j,ap as R,aq as A,Y as _,Z as W,_ as V,ar as C,a1 as L,aE as O,a2 as q,aF as H,aa as F,ak as G}from"./client.e610cbe1.js";import{c as J,f as K,l as Q,s as U,b as Y,P as Z,T as X,i as tt,R as et,a as nt,e as st}from"./constants.929b9a13.js";import{l as at,P as rt}from"./longpress.da55852c.js";import{T as lt,B as ot,a as it}from"./Button.9d96164e.js";function ct(t){let e,n,f;return{c(){e=s("svg"),n=s("path"),this.h()},l(t){e=a(t,"svg",{xmlns:!0,width:!0,height:!0,fill:!0,viewBox:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,class:!0},1);var s=r(e);n=a(s,"path",{d:!0},1),r(n).forEach(l),s.forEach(l),this.h()},h(){o(n,"d","M17 3a2.828 2.828 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z"),o(e,"xmlns","http://www.w3.org/2000/svg"),o(e,"width",t[0]),o(e,"height",t[0]),o(e,"fill","none"),o(e,"viewBox","0 0 24 24"),o(e,"stroke","currentColor"),o(e,"stroke-width",t[1]),o(e,"stroke-linecap","round"),o(e,"stroke-linejoin","round"),o(e,"class",f="feather feather-edit-2 "+t[2])},m(t,s){i(t,e,s),c(e,n)},p(t,[n]){1&n&&o(e,"width",t[0]),1&n&&o(e,"height",t[0]),2&n&&o(e,"stroke-width",t[1]),4&n&&f!==(f="feather feather-edit-2 "+t[2])&&o(e,"class",f)},i:u,o:u,d(t){t&&l(e)}}}function ut(t,e,n){let{size:s="100%"}=e,{strokeWidth:a=2}=e,{class:r=""}=e;return"100%"!==s&&(s="x"===s.slice(-1)?s.slice(0,s.length-1)+"em":parseInt(s)+"px"),t.$$set=t=>{"size"in t&&n(0,s=t.size),"strokeWidth"in t&&n(1,a=t.strokeWidth),"class"in t&&n(2,r=t.class)},[s,a,r]}class ft extends t{constructor(t){super(),e(this,t,ut,ct,n,{size:0,strokeWidth:1,class:2})}}function ht(t){let e,n,f;return{c(){e=s("svg"),n=s("line"),this.h()},l(t){e=a(t,"svg",{xmlns:!0,width:!0,height:!0,fill:!0,viewBox:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,class:!0},1);var s=r(e);n=a(s,"line",{x1:!0,y1:!0,x2:!0,y2:!0},1),r(n).forEach(l),s.forEach(l),this.h()},h(){o(n,"x1","5"),o(n,"y1","12"),o(n,"x2","19"),o(n,"y2","12"),o(e,"xmlns","http://www.w3.org/2000/svg"),o(e,"width",t[0]),o(e,"height",t[0]),o(e,"fill","none"),o(e,"viewBox","0 0 24 24"),o(e,"stroke","currentColor"),o(e,"stroke-width",t[1]),o(e,"stroke-linecap","round"),o(e,"stroke-linejoin","round"),o(e,"class",f="feather feather-minus "+t[2])},m(t,s){i(t,e,s),c(e,n)},p(t,[n]){1&n&&o(e,"width",t[0]),1&n&&o(e,"height",t[0]),2&n&&o(e,"stroke-width",t[1]),4&n&&f!==(f="feather feather-minus "+t[2])&&o(e,"class",f)},i:u,o:u,d(t){t&&l(e)}}}function dt(t,e,n){let{size:s="100%"}=e,{strokeWidth:a=2}=e,{class:r=""}=e;return"100%"!==s&&(s="x"===s.slice(-1)?s.slice(0,s.length-1)+"em":parseInt(s)+"px"),t.$$set=t=>{"size"in t&&n(0,s=t.size),"strokeWidth"in t&&n(1,a=t.strokeWidth),"class"in t&&n(2,r=t.class)},[s,a,r]}class $t extends t{constructor(t){super(),e(this,t,dt,ht,n,{size:0,strokeWidth:1,class:2})}}function mt(t,e,n){const s=getComputedStyle(t),a="none"===s.transform?"":s.transform,r=e.from.width/t.clientWidth,l=e.from.height/t.clientHeight,o=(e.from.left-e.to.left)/r,i=(e.from.top-e.to.top)/l,c=Math.sqrt(o*o+i*i),{delay:u=0,duration:h=(t=>120*Math.sqrt(t)),easing:d=J}=n;return{delay:u,duration:f(h)?h(c):h,easing:d,css:(t,e)=>`transform: ${a} translate(${e*o}px, ${e*i}px);`}}function pt(t,e,n){const s=t.slice();return s[3]=e[n],s}function gt(t){let e,n,s;return{c(){e=h("span"),this.h()},l(t){e=a(t,"SPAN",{class:!0}),r(e).forEach(l),this.h()},h(){o(e,"class","bg-background absolute right-2 top-2 w-4 h-4 rounded-full")},m(t,n){i(t,e,n),s=!0},i(t){s||(y((()=>{n||(n=b(e,U,{},!0)),n.run(1)})),s=!0)},o(t){n||(n=b(e,U,{},!1)),n.run(0),s=!1},d(t){t&&l(e),t&&n&&n.end()}}}function vt(t,e){let n,s,f,b,P,j,R,A,_,W,V,C,L,O,q,H,F,G,Y=e[3].comment+"",Z=K(e[3].value,{showSign:!1})+"",X=Q.DateTime.fromSeconds(e[3].date).toLocaleString(Q.DateTime.DATETIME_MED)+"",tt=u,et=e[0][e[3]._id]&&gt();function nt(){return e[2](e[3])}return{key:t,first:null,c(){n=h("div"),s=h("div"),f=d(Y),b=$(),P=h("div"),j=h("span"),R=d(Z),A=$(),_=h("span"),W=d(X),V=$(),et&&et.c(),C=$(),this.h()},l(t){n=a(t,"DIV",{class:!0});var e=r(n);s=a(e,"DIV",{class:!0});var o=r(s);f=m(o,Y),o.forEach(l),b=p(e),P=a(e,"DIV",{class:!0});var i=r(P);j=a(i,"SPAN",{class:!0});var c=r(j);R=m(c,Z),c.forEach(l),A=p(i),_=a(i,"SPAN",{});var u=r(_);W=m(u,X),u.forEach(l),i.forEach(l),V=p(e),et&&et.l(e),C=p(e),e.forEach(l),this.h()},h(){o(s,"class","whitespace-pre-wrap"),g(s,"hidden",!e[3].comment),o(j,"class","font-mono"),o(P,"class","flex justify-between"),o(n,"class","transaction relative svelte-v8r6i"),g(n,"in",e[3].value>=0),g(n,"out",e[3].value<0),g(n,"selected",e[0][e[3]._id]),this.first=n},m(t,e){i(t,n,e),c(n,s),c(s,f),c(n,b),c(n,P),c(P,j),c(j,R),c(P,A),c(P,_),c(_,W),c(n,V),et&&et.m(n,null),c(n,C),H=!0,F||(G=[v(at.call(null,n,300)),x(n,"longpress",nt)],F=!0)},p(t,a){e=t,(!H||2&a)&&Y!==(Y=e[3].comment+"")&&k(f,Y),2&a&&g(s,"hidden",!e[3].comment),(!H||2&a)&&Z!==(Z=K(e[3].value,{showSign:!1})+"")&&k(R,Z),(!H||2&a)&&X!==(X=Q.DateTime.fromSeconds(e[3].date).toLocaleString(Q.DateTime.DATETIME_MED)+"")&&k(W,X),e[0][e[3]._id]?et?3&a&&w(et,1):(et=gt(),et.c(),w(et,1),et.m(n,C)):et&&(E(),I(et,1,1,(()=>{et=null})),S()),2&a&&g(n,"in",e[3].value>=0),2&a&&g(n,"out",e[3].value<0),3&a&&g(n,"selected",e[0][e[3]._id])},r(){q=n.getBoundingClientRect()},f(){T(n),tt(),N(n,q)},a(){tt(),tt=D(n,q,mt,{})},i(t){H||(w(et),t&&y((()=>{O&&O.end(1),L||(L=B(n,U,{easing:J})),L.start()})),H=!0)},o(t){I(et),L&&L.invalidate(),t&&(O=z(n,U,{easing:J})),H=!1},d(t){t&&l(n),et&&et.d(),t&&O&&O.end(),F=!1,M(G)}}}function xt(t){let e,n,s=[],c=new Map,u=t[1];const f=t=>t[3]._id;for(let e=0;e<u.length;e+=1){let n=pt(t,u,e),a=f(n);c.set(a,s[e]=vt(a,n))}return{c(){e=h("div");for(let t=0;t<s.length;t+=1)s[t].c();this.h()},l(t){e=a(t,"DIV",{class:!0});var n=r(e);for(let t=0;t<s.length;t+=1)s[t].l(n);n.forEach(l),this.h()},h(){o(e,"class","flex flex-col space-y-2 text-dark w-full p-4")},m(t,a){i(t,e,a);for(let t=0;t<s.length;t+=1)s[t].m(e,null);n=!0},p(t,[n]){if(3&n){u=t[1],E();for(let t=0;t<s.length;t+=1)s[t].r();s=P(s,n,f,1,t,u,c,e,j,vt,null,pt);for(let t=0;t<s.length;t+=1)s[t].a();S()}},i(t){if(!n){for(let t=0;t<u.length;t+=1)w(s[t]);n=!0}},o(t){for(let t=0;t<s.length;t+=1)I(s[t]);n=!1},d(t){t&&l(e);for(let t=0;t<s.length;t+=1)s[t].d()}}}function kt(t,e,n){let{transactions:s=[]}=e,{selectedTransactionsById:a={}}=e;return t.$$set=t=>{"transactions"in t&&n(1,s=t.transactions),"selectedTransactionsById"in t&&n(0,a=t.selectedTransactionsById)},[a,s,t=>{if(!a[t._id])return void n(0,a[t._id]=t,a);const{[t._id]:e,...s}=a;n(0,a=s)}]}class wt extends t{constructor(t){super(),e(this,t,kt,xt,n,{transactions:1,selectedTransactionsById:0})}}function yt(t){let e,n,s,c;return n=new rt({props:{size:"24"}}),{c(){e=h("span"),_(n.$$.fragment),this.h()},l(t){e=a(t,"SPAN",{class:!0});var s=r(e);W(n.$$.fragment,s),s.forEach(l),this.h()},h(){o(e,"class","absolute")},m(t,s){i(t,e,s),V(n,e,null),c=!0},i(t){c||(w(n.$$.fragment,t),t&&y((()=>{s||(s=b(e,U,{},!0)),s.run(1)})),c=!0)},o(t){I(n.$$.fragment,t),t&&(s||(s=b(e,U,{},!1)),s.run(0)),c=!1},d(t){t&&l(e),L(n),t&&s&&s.end()}}}function bt(t){let e,n,s,c;return n=new $t({props:{size:"24"}}),{c(){e=h("span"),_(n.$$.fragment),this.h()},l(t){e=a(t,"SPAN",{class:!0});var s=r(e);W(n.$$.fragment,s),s.forEach(l),this.h()},h(){o(e,"class","absolute")},m(t,s){i(t,e,s),V(n,e,null),c=!0},i(t){c||(w(n.$$.fragment,t),t&&y((()=>{s||(s=b(e,U,{},!0)),s.run(1)})),c=!0)},o(t){I(n.$$.fragment,t),t&&(s||(s=b(e,U,{},!1)),s.run(0)),c=!1},d(t){t&&l(e),L(n),t&&s&&s.end()}}}function Et(t){let e,n,s,u,f,d,m,g,v,k;const y=[bt,yt],b=[];function T(t,e){return t[2]?0:1}function N(e){t[6].call(null,e)}s=T(t),u=b[s]=y[s](t);let D={class:"w-full pl-2 py-2 h-full bg-background border-none rounded-r-full outline-none ring-0 text-light font-mono",value:K(Math.abs(t[1])),inputmode:"numeric",autofocus:!0};return void 0!==t[0]&&(D.inputRef=t[0]),d=new lt({props:D}),R.push((()=>A(d,"inputRef",N))),d.$on("input",t[4]),d.$on("keyup",t[3]),{c(){e=h("div"),n=h("div"),u.c(),f=$(),_(d.$$.fragment),this.h()},l(t){e=a(t,"DIV",{class:!0});var s=r(e);n=a(s,"DIV",{class:!0});var o=r(n);u.l(o),o.forEach(l),f=p(s),W(d.$$.fragment,s),s.forEach(l),this.h()},h(){o(n,"class","relative cursor-pointer w-6 flex items-center"),o(e,"class","flex space-x-2 items-stretch h-8 pl-2 text-dark w-full border border-dark rounded-2xl")},m(a,r){i(a,e,r),c(e,n),b[s].m(n,null),c(e,f),V(d,e,null),g=!0,v||(k=x(n,"click",t[5]),v=!0)},p(t,[e]){let a=s;s=T(t),s!==a&&(E(),I(b[a],1,1,(()=>{b[a]=null})),S(),u=b[s],u||(u=b[s]=y[s](t),u.c()),w(u,1),u.m(n,null));const r={};2&e&&(r.value=K(Math.abs(t[1]))),!m&&1&e&&(m=!0,r.inputRef=t[0],C((()=>m=!1))),d.$set(r)},i(t){g||(w(u),w(d.$$.fragment,t),g=!0)},o(t){I(u),I(d.$$.fragment,t),g=!1},d(t){t&&l(e),b[s].d(),L(d),v=!1,k()}}}function It(t,e,n){let{inputRef:s}=e,{value:a=0}=e,{isNegative:r=!1}=e;const l=O();return t.$$set=t=>{"inputRef"in t&&n(0,s=t.inputRef),"value"in t&&n(1,a=t.value),"isNegative"in t&&n(2,r=t.isNegative)},[s,a,r,({key:t})=>{"Enter"===t&&l("enterPressed")},t=>{t.preventDefault();const e=+`${Y(t.target.value)}`;n(1,a=r?-e:e),t.target.value=K(Math.abs(a),{showSign:!1})},()=>{n(2,r=!r),n(1,a=r?-Math.abs(a):Math.abs(a)),s.focus()},function(t){s=t,n(0,s)}]}class St extends t{constructor(t){super(),e(this,t,It,Et,n,{inputRef:0,value:1,isNegative:2})}}function Tt(t){let e,n,s,c,f;return n=new ft({props:{size:"20"}}),{c(){e=h("span"),_(n.$$.fragment),this.h()},l(t){e=a(t,"SPAN",{class:!0});var s=r(e);W(n.$$.fragment,s),s.forEach(l),this.h()},h(){o(e,"class","cursor-pointer flex space-x-2 items-end")},m(a,r){i(a,e,r),V(n,e,null),s=!0,c||(f=x(e,"click",t[11]),c=!0)},p:u,i(t){s||(w(n.$$.fragment,t),s=!0)},o(t){I(n.$$.fragment,t),s=!1},d(t){t&&l(e),L(n),c=!1,f()}}}function Nt(t){let e,n,s,o,c;return n=new it({props:{size:"20"}}),{c(){e=h("span"),_(n.$$.fragment)},l(t){e=a(t,"SPAN",{});var s=r(e);W(n.$$.fragment,s),s.forEach(l)},m(a,r){i(a,e,r),V(n,e,null),s=!0,o||(c=x(e,"click",t[8]),o=!0)},p:u,i(t){s||(w(n.$$.fragment,t),s=!0)},o(t){I(n.$$.fragment,t),s=!1},d(t){t&&l(e),L(n),o=!1,c()}}}function Dt(t){let e,n,s,a,r,o,c,u,f,h=t[6]?.name+"",g=K(t[6]?.value)+"";const v=[Nt,Tt],x=[];function y(t,e){return 8&e&&(r=!!(Object.keys(t[3]).length>=1)),r?0:1}return o=y(t,-1),c=x[o]=v[o](t),{c(){e=d(h),n=d(" |\n    "),s=d(g),a=$(),c.c(),u=G()},l(t){e=m(t,h),n=m(t," |\n    "),s=m(t,g),a=p(t),c.l(t),u=G()},m(t,r){i(t,e,r),i(t,n,r),i(t,s,r),i(t,a,r),x[o].m(t,r),i(t,u,r),f=!0},p(t,n){(!f||64&n)&&h!==(h=t[6]?.name+"")&&k(e,h),(!f||64&n)&&g!==(g=K(t[6]?.value)+"")&&k(s,g);let a=o;o=y(t,n),o===a?x[o].p(t,n):(E(),I(x[a],1,1,(()=>{x[a]=null})),S(),c=x[o],c?c.p(t,n):(c=x[o]=v[o](t),c.c()),w(c,1),c.m(u.parentNode,u))},i(t){f||(w(c),f=!0)},o(t){I(c),f=!1},d(t){t&&l(e),t&&l(n),t&&l(s),t&&l(a),x[o].d(t),t&&l(u)}}}function Bt(t){return{c:u,l:u,m:u,p:u,i:u,o:u,d:u}}function zt(t){let e,n,s;function a(e){t[12].call(null,e)}let r={transactions:t[19]};return void 0!==t[3]&&(r.selectedTransactionsById=t[3]),e=new wt({props:r}),R.push((()=>A(e,"selectedTransactionsById",a))),{c(){_(e.$$.fragment)},l(t){W(e.$$.fragment,t)},m(t,n){V(e,t,n),s=!0},p(t,s){const a={};4&s&&(a.transactions=t[19]),!n&&8&s&&(n=!0,a.selectedTransactionsById=t[3],C((()=>n=!1))),e.$set(a)},i(t){s||(w(e.$$.fragment,t),s=!0)},o(t){I(e.$$.fragment,t),s=!1},d(t){L(e,t)}}}function Mt(t){return{c:u,l:u,m:u,p:u,i:u,o:u,d:u}}function Pt(t){let e;return{c(){e=d("Back")},l(t){e=m(t,"Back")},m(t,n){i(t,e,n)},d(t){t&&l(e)}}}function jt(t){let e,n,s,u;return{c(){e=h("span"),n=d("Save"),this.h()},l(t){e=a(t,"SPAN",{class:!0});var s=r(e);n=m(s,"Save"),s.forEach(l),this.h()},h(){o(e,"class","absolute inset-0 transform translate-y-1/2 top-0 inset-y-1/2")},m(t,s){i(t,e,s),c(e,n),u=!0},i(t){u||(t&&y((()=>{s||(s=b(e,U,{},!0)),s.run(1)})),u=!0)},o(t){t&&(s||(s=b(e,U,{},!1)),s.run(0)),u=!1},d(t){t&&l(e),t&&s&&s.end()}}}function Rt(t){let e,n,s,u;return{c(){e=h("span"),n=d("Spend"),this.h()},l(t){e=a(t,"SPAN",{class:!0});var s=r(e);n=m(s,"Spend"),s.forEach(l),this.h()},h(){o(e,"class","absolute inset-0 transform translate-y-1/2 top-0 inset-y-1/2")},m(t,s){i(t,e,s),c(e,n),u=!0},i(t){u||(t&&y((()=>{s||(s=b(e,U,{},!0)),s.run(1)})),u=!0)},o(t){t&&(s||(s=b(e,U,{},!1)),s.run(0)),u=!1},d(t){t&&l(e),t&&s&&s.end()}}}function At(t){let e,n,s;const a=[Rt,jt],r=[];function o(t,e){return t[5]?0:1}return e=o(t),n=r[e]=a[e](t),{c(){n.c(),s=G()},l(t){n.l(t),s=G()},m(t,n){r[e].m(t,n),i(t,s,n)},p(t,l){let i=e;e=o(t),e!==i&&(E(),I(r[i],1,1,(()=>{r[i]=null})),S(),n=r[e],n||(n=r[e]=a[e](t),n.c()),w(n,1),n.m(s.parentNode,s))},d(t){r[e].d(t),t&&l(s)}}}function _t(t){let e,n,s,u,f,d,m,g,v,x,k,y,b,E,S,T,N,D;e=new X({props:{$$slots:{default:[Dt]},$$scope:{ctx:t}}});let B={ctx:t,current:null,token:null,hasCatch:!1,pending:Mt,then:zt,catch:Bt,value:19,blocks:[,,,]};function z(e){t[13].call(null,e)}function M(e){t[14].call(null,e)}function P(e){t[15].call(null,e)}H(s=t[2].transactions,B);let j={};function O(e){t[16].call(null,e)}void 0!==t[5]&&(j.isNegative=t[5]),void 0!==t[4].value&&(j.value=t[4].value),void 0!==t[1]&&(j.inputRef=t[1]),d=new St({props:j}),R.push((()=>A(d,"isNegative",z))),R.push((()=>A(d,"value",M))),R.push((()=>A(d,"inputRef",P))),d.$on("enterPressed",t[7]);let q={textarea:!0,id:"comment-input",class:"bg-background w-full resize-none text-light outline-none border-none p-2 text-base rounded-xl"};return void 0!==t[4].comment&&(q.value=t[4].comment),k=new lt({props:q}),R.push((()=>A(k,"value",O))),S=new ot({props:{class:"w-20",$$slots:{default:[Pt]},$$scope:{ctx:t}}}),S.$on("click",t[17]),N=new ot({props:{class:"w-20 relative",$$slots:{default:[At]},$$scope:{ctx:t}}}),N.$on("click",t[9]),{c(){_(e.$$.fragment),n=$(),B.block.c(),u=$(),f=h("div"),_(d.$$.fragment),x=$(),_(k.$$.fragment),b=$(),E=h("div"),_(S.$$.fragment),T=$(),_(N.$$.fragment),this.h()},l(t){W(e.$$.fragment,t),n=p(t),B.block.l(t),u=p(t),f=a(t,"DIV",{class:!0});var s=r(f);W(d.$$.fragment,s),x=p(s),W(k.$$.fragment,s),b=p(s),E=a(s,"DIV",{class:!0});var o=r(E);W(S.$$.fragment,o),T=p(o),W(N.$$.fragment,o),o.forEach(l),s.forEach(l),this.h()},h(){o(E,"class","flex justify-around text-dark"),o(f,"class","sticky mt-auto mx-2 bottom-2 left-2 right-2 box-border flex flex-col space-y-4 bg-primary rounded-3xl p-4")},m(t,s){V(e,t,s),i(t,n,s),B.block.m(t,B.anchor=s),B.mount=()=>u.parentNode,B.anchor=u,i(t,u,s),i(t,f,s),V(d,f,null),c(f,x),V(k,f,null),c(f,b),c(f,E),V(S,E,null),c(E,T),V(N,E,null),D=!0},p(n,a){t=n;const r={};if(1048649&a&&(r.$$scope={dirty:a,ctx:t}),e.$set(r),B.ctx=t,4&a&&s!==(s=t[2].transactions)&&H(s,B));else{const e=t.slice();e[19]=B.resolved,B.block.p(e,a)}const l={};!m&&32&a&&(m=!0,l.isNegative=t[5],C((()=>m=!1))),!g&&16&a&&(g=!0,l.value=t[4].value,C((()=>g=!1))),!v&&2&a&&(v=!0,l.inputRef=t[1],C((()=>v=!1))),d.$set(l);const o={};!y&&16&a&&(y=!0,o.value=t[4].comment,C((()=>y=!1))),k.$set(o);const i={};1048576&a&&(i.$$scope={dirty:a,ctx:t}),S.$set(i);const c={};1048608&a&&(c.$$scope={dirty:a,ctx:t}),N.$set(c)},i(t){D||(w(e.$$.fragment,t),w(B.block),w(d.$$.fragment,t),w(k.$$.fragment,t),w(S.$$.fragment,t),w(N.$$.fragment,t),D=!0)},o(t){I(e.$$.fragment,t);for(let t=0;t<3;t+=1){const e=B.blocks[t];I(e)}I(d.$$.fragment,t),I(k.$$.fragment,t),I(S.$$.fragment,t),I(N.$$.fragment,t),D=!1},d(t){L(e,t),t&&l(n),B.block.d(t),B.token=null,B=null,t&&l(u),t&&l(f),L(d),L(k),L(S),L(N)}}}function Wt(t){let e,n;return e=new Z({props:{$$slots:{default:[_t]},$$scope:{ctx:t}}}),{c(){_(e.$$.fragment)},l(t){W(e.$$.fragment,t)},m(t,s){V(e,t,s),n=!0},p(t,[n]){const s={};1048703&n&&(s.$$scope={dirty:n,ctx:t}),e.$set(s)},i(t){n||(w(e.$$.fragment,t),n=!0)},o(t){I(e.$$.fragment,t),n=!1},d(t){L(e,t)}}}const Vt=async({params:t})=>t;function Ct(t,e,n){let s,a,r;q(t,nt,(t=>n(18,a=t))),q(t,st,(t=>n(10,r=t)));let{id:l}=e;let o,i=a?a.getTransactionsPaginated({actions:a,envelopeId:l}):{},c={},u={value:0,comment:""},f=!0;return t.$$set=t=>{"id"in t&&n(0,l=t.id)},t.$$.update=()=>{1025&t.$$.dirty&&n(6,s=r.find((({_id:t})=>t===l)))},[l,o,i,c,u,f,s,()=>{document?.getElementById("comment-input").focus()},async()=>{await a.deleteTransactions(Object.keys(c),l),n(3,c={}),n(2,i=await i.refresh())},()=>{tt()&&u.value&&a.saveTransaction(u,l).then((async()=>{n(4,u.value=0,u),n(4,u.comment="",u),n(2,i=await i.refresh()),o.focus()}))},r,()=>F(`${et.EDIT}/${l}`),function(t){c=t,n(3,c)},function(t){f=t,n(5,f)},function(t){u.value=t,n(4,u)},function(t){o=t,n(1,o)},function(t){u.comment=t,n(4,u)},()=>{F(et.HOME)}]}export default class extends t{constructor(t){super(),e(this,t,Ct,Wt,n,{id:0})}}export{Vt as preload};
